{% extends 'base.html' %} {% block title %} Schedule Bus {% endblock %} {% block
content %}

<div class="container">
  <h1 class="text-center py-2">Schedule Bus</h1>

  <div class="container shadow p-4 mb-4 bg-white">
    <form action="{{url_for('admin.schedule_bus')}}" method="post">
      <div class="mb-3 mt-3">
        <label for="bus_name" class="form-label">Bus Name:</label>
        <input
          type="text"
          class="form-control w-50"
          id="bus_name"
          name="bus_name"
          readonly
          value="{{bus.name}}"
        />
      </div>
      <div class="mb-3">
        <label for="bus_no" class="form-label">Bus Number:</label>
        <input
          type="text"
          class="form-control w-50"
          id="bus_no"
          name="bus_number"
          pattern="[0-9]{5,}"
          readonly
          value="{{bus._id}}"
        />
      </div>
      <div class="mb-3">
        <label for="bus_reg_no" class="form-label"
          >Bus Registration Number:</label
        >
        <input
          type="text"
          class="form-control w-50"
          id="bus_reg_no"
          name="bus_reg_number"
          pattern="[a-zA-Z]{2}[0-9]{2}[a-zA-Z][0-9]{4}"
          readonly
          value="{{bus.reg_number}}"
        />
      </div>

      <div class="mb-3">
        <label for="no_of_seats" class="form-label"
          >No of Seats per column:</label
        >
        <input
          type="number"
          min="0"
          max="10"
          class="form-control w-50"
          id="no_of_seats"
          name="seat_count"
          placeholder="Per column"
          readonly
          value="{{bus.seat_columns}}"
        />
      </div>
      <div class="row mb-3">
        <label class="form-label">Location:</label>
        <div class="col-3">
          <input
            type="text"
            class="form-control"
            id="start_location"
            name="start_location"
            placeholder="From"
            readonly
            value="{{bus.start}}"
          />
        </div>
        <div class="col-3">
          <input
            type="text"
            class="form-control"
            id="destination_location"
            name="destination_location"
            placeholder="To"
            readonly
            value="{{bus.destination}}"
          />
        </div>
      </div>
      <div class="row mb-3">
        <label class="form-label">Price:</label>
        <div class="col-3">
          <input
            type="number"
            max="100"
            min="0"
            class="form-control"
            id="normal_seat_price"
            name="normal_seat_price"
            placeholder="Normal seat price"
            required
            value="{{bus.normal_seat_price}}"
          />
        </div>
        <div class="col-3">
          <input
            type="number"
            min="0"
            max="100"
            class="form-control"
            id="window_seat_price"
            name="window_seat_price"
            placeholder="Window seat price"
            required
            value="{{bus.window_seat_price}}"
          />
        </div>
      </div>
      <div class="mb-3">
        <label for="date" class="form-label">Date:</label>
        <input
          type="date"
          class="form-control w-50"
          id="date"
          name="date"
          required
        />
        <script>
          var tomorrow = new Date();
          tomorrow.setDate(new Date().getDate() + 1);
          var limit = tomorrow.toISOString().split("T")[0];
          document.getElementsByName("date")[0].setAttribute("min", limit);
        </script>
      </div>
      <div class="row mb-3">
        <div class="col-3">
          <label for="start_time" class="form-label">Start Time:</label>
          <input
            type="time"
            class="form-control w-50"
            id="start_time"
            name="start_time"
            required
          />
        </div>
        <div class="col-3">
          <label for="end_time" class="form-label">End Time:</label>
          <input
            type="time"
            class="form-control w-50"
            id="end_time"
            name="end_time"
            required
          />
        </div>
        <script>
          var start_time = document.getElementById("start_time");
          var end_time = document.getElementById("end_time");
          start_time.addEventListener("input", function () {
            end_time.setAttribute("min", start_time.value);
          });
        </script>
      </div>

      <button type="submit" class="btn btn-primary">Save</button>
    </form>
  </div>
</div>
{% endblock %}
